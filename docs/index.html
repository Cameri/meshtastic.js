<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Client.html">Client</a><ul class='methods'><li data-type='method'><a href="Client.html#addConnection">addConnection</a></li><li data-type='method'><a href="Client.html#addConnection">addConnection</a></li><li data-type='method'><a href="Client.html#createBLEConnection">createBLEConnection</a></li><li data-type='method'><a href="Client.html#createHTTPConnection">createHTTPConnection</a></li></ul></li><li><a href="IBLEConnection.html">IBLEConnection</a><ul class='methods'><li data-type='method'><a href="IBLEConnection.html#configure">configure</a></li><li data-type='method'><a href="IBLEConnection.html#connect">connect</a></li><li data-type='method'><a href="IBLEConnection.html#disconnect">disconnect</a></li><li data-type='method'><a href="IBLEConnection.html#isDeviceReady">isDeviceReady</a></li><li data-type='method'><a href="IBLEConnection.html#sendData">sendData</a></li><li data-type='method'><a href="IBLEConnection.html#sendPacket">sendPacket</a></li><li data-type='method'><a href="IBLEConnection.html#sendPosition">sendPosition</a></li><li data-type='method'><a href="IBLEConnection.html#sendText">sendText</a></li><li data-type='method'><a href="IBLEConnection.html#setOwner">setOwner</a></li><li data-type='method'><a href="IBLEConnection.html#setRadioConfig">setRadioConfig</a></li></ul></li><li><a href="IHTTPConnection.html">IHTTPConnection</a><ul class='methods'><li data-type='method'><a href="IHTTPConnection.html#configure">configure</a></li><li data-type='method'><a href="IHTTPConnection.html#connect">connect</a></li><li data-type='method'><a href="IHTTPConnection.html#disconnect">disconnect</a></li><li data-type='method'><a href="IHTTPConnection.html#isDeviceReady">isDeviceReady</a></li><li data-type='method'><a href="IHTTPConnection.html#sendData">sendData</a></li><li data-type='method'><a href="IHTTPConnection.html#sendPacket">sendPacket</a></li><li data-type='method'><a href="IHTTPConnection.html#sendPosition">sendPosition</a></li><li data-type='method'><a href="IHTTPConnection.html#sendText">sendText</a></li><li data-type='method'><a href="IHTTPConnection.html#setOwner">setOwner</a></li><li data-type='method'><a href="IHTTPConnection.html#setRadioConfig">setRadioConfig</a></li></ul></li><li><a href="IMeshDevice.html">IMeshDevice</a><ul class='methods'><li data-type='method'><a href="IMeshDevice.html#configure">configure</a></li><li data-type='method'><a href="IMeshDevice.html#isDeviceReady">isDeviceReady</a></li><li data-type='method'><a href="IMeshDevice.html#sendData">sendData</a></li><li data-type='method'><a href="IMeshDevice.html#sendPacket">sendPacket</a></li><li data-type='method'><a href="IMeshDevice.html#sendPosition">sendPosition</a></li><li data-type='method'><a href="IMeshDevice.html#sendText">sendText</a></li><li data-type='method'><a href="IMeshDevice.html#setOwner">setOwner</a></li><li data-type='method'><a href="IMeshDevice.html#setRadioConfig">setRadioConfig</a></li></ul></li><li><a href="NodeDB.html">NodeDB</a><ul class='methods'><li data-type='method'><a href="NodeDB.html#addNode">addNode</a></li><li data-type='method'><a href="NodeDB.html#addPositionData">addPositionData</a></li><li data-type='method'><a href="NodeDB.html#addUserData">addUserData</a></li><li data-type='method'><a href="NodeDB.html#getNodeByNum">getNodeByNum</a></li><li data-type='method'><a href="NodeDB.html#getNodeList">getNodeList</a></li><li data-type='method'><a href="NodeDB.html#nodeNumToUserId">nodeNumToUserId</a></li><li data-type='method'><a href="NodeDB.html#removeNode">removeNode</a></li><li data-type='method'><a href="NodeDB.html#userIdToNodeNum">userIdToNodeNum</a></li></ul></li><li><a href="SettingsManager.html">SettingsManager</a><ul class='methods'><li data-type='method'><a href="SettingsManager.html#.setDebugMode">setDebugMode</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#version">version</a></li></ul>
</nav>

<div id="main">
    

    



    


    <section class="package">
        <h3> </h3>		
    </section>









    



    <section class="readme usertext">
        <article><h1>Meshtastic.js</h1>
<h2>Overview</h2>
<p>Meshtastic.js is a javascript library that provides an interface to Meshtastic devices. It can be used to build applications interacting with the Meshtastic network natively in the browser. Currently only bluetooth connections are possible.</p>
<p>Supported features:</p>
<ul>
<li>Connect to multiple meshtastic devices via bluetooth</li>
<li>Start configuration process on connect</li>
<li>Get device info and node database</li>
<li>Receive messages from device</li>
<li>Send messages (text, position, data, packet)</li>
<li>Set device preferences</li>
<li>Set owner data</li>
</ul>
<p><a href="https://meshtastic.github.io/meshtastic.js">Documentation/API Reference</a> (work in progress)</p>
<h2>Installation</h2>
<h3>Including the script</h3>
<pre class="prettyprint source"><code>&lt;script src=&quot;path/to/meshtastic.js&quot;>&lt;/script>
</code></pre>
<p>This includes meshtastic.js into an html file and makes it available through the global variable meshtasticjs.
Since the file follows the Universal Module Definition, it can also be used as a commonjs or amd module (https://github.com/umdjs/umd).</p>
<h2>Usage</h2>
<h3>Basic Init</h3>
<p>This creates a new meshtastic client instance and initializes the client:</p>
<pre class="prettyprint source"><code>var meshtasticClient = new meshtasticjs.Client;

</code></pre>
<p>After that, a new connection can be created. it returns an IBLEConnection interface:</p>
<pre class="prettyprint source"><code>var connectionOne = meshtasticClient.createBLEConnection();

</code></pre>
<p>The connection interface provides events that can be listened on:</p>
<ul>
<li><code>fromRadio</code> Gets called whenever a fromRadio message is received from device, returns fromRadio data object in event.detail</li>
<li><code>dataPacket</code> Gets called when a data packet is received from device, returns fromRadio data object in event.detail</li>
<li><code>userPacket</code> Gets called when a user packet is received from device, returns fromRadio data object in event.detail</li>
<li><code>positionPacket</code> Gets called when a position packet is received from device, returns fromRadio data in event.detail</li>
<li><code>nodeListChanged</code> Gets called when node database has been changed, returns changed node number in event.detail</li>
<li><code>connected</code> Gets called when link to device is connected</li>
<li><code>disconnected</code> Gets called when link to device is disconnected</li>
<li><code>configDone</code> Gets called when device has been configured (myInfo, radio and node data received). device interface is now ready to be used</li>
</ul>
<pre class="prettyprint source"><code>// Registering event listeners
connectionOne.addEventListener('fromRadio', function(event) { console.log(event.detail.toJSON()) });
</code></pre>
<h3>Connect to a device</h3>
<p>Now we can connect to the device asynchronously. It returns a promise, so it must be used either in an async/await function or with .then.</p>
<p><strong>Important: the connect action must be called from a user interaction (e.g. button press), otherwise the browsers won't allow the connect.</strong></p>
<pre class="prettyprint source"><code>connectionOne.connect()
        .then(result => { 
            // This code gets executed when the connection has been established
            console.log(&quot;Successfully connected!&quot;); 
        })
        .catch(error => { console.log(error); });

</code></pre>
<h3>Send a text message</h3>
<p>Send a text message via the device over the meshtastic radio. If no recipient node is provided, it gets sent as a broadcast:</p>
<pre class="prettyprint source"><code> connectionOne.sendText('meshtastic is awesome')
        .then(result => { 
            console.log(result);
        })
        .catch(error => { console.log(error); });

</code></pre>
<p><strong>All calls (if not using then/catch promise syntax) should be wrapped in a try/catch to handle errors.</strong></p>
<p>For more examples see /examples.</p>
<p><a href="https://meshtastic.github.io/meshtastic.js">Documentation/API Reference</a> (work in progress)</p>
<h2>Compatibility</h2>
<p>The library is tested with meshtastic devices running firmware versions 0.9.5 and 1.0.0.</p>
<p>Since meshtastic.js relies on the bluetooth web api (https://developer.mozilla.org/en-US/docs/Web/API/Web_Bluetooth_API) it currently does only work in the later versions of Google Chrome, Opera and Microsoft Edge. On windows systems, the meshtastic device has to be paired via windows settings beforehand once.</p>
<h3>Version Details</h3>
<ul>
<li>Google Chrome 56+</li>
<li>Google Chrome for Android 85+</li>
<li>Microsoft Edge 79+</li>
<li>Opera 43+</li>
</ul>
<p>More detailed compatibility information can be found at https://caniuse.com/web-bluetooth</p>
<h2>Build</h2>
<p>Clone the library into a local directory and run:</p>
<pre class="prettyprint source"><code>npm install
</code></pre>
<p>to fetch the needed dependencies.</p>
<p>To build:</p>
<pre class="prettyprint source"><code>npm run build
npm run generate-docs
</code></pre>
<h2>Development</h2>
<p>Roadmap for version 1.0:</p>
<ul>
<li>Support for HTTP and serial usb connections</li>
<li>More granular error management</li>
<li>ES6 Module Support (the library is designed as an ES6 module, but protobuf.js needed for protocol buffers is not... yet?)</li>
</ul></article>
    </section>






    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.6</a> on Thu Oct 22 2020 21:43:44 GMT+0200 (Central European Summer Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>